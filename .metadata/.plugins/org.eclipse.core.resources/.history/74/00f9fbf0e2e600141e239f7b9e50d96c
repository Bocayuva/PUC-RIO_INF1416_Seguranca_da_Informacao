package main.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import main.business.Registros;
import main.business.TanList;
import main.jdbc.ConnectionFactory;

public class TanListDao {

	// a conexão com o banco de dados
		private Connection connection;
		
	    public TanListDao() {
			   this.connection = new ConnectionFactory().getConnection();
		}
	    
	    public void CriarTanListItem(TanList tanlist){
	    	String sql = "insert into tan_lists " +
	                "(" +
	                "tan_item," +
	                "id_user_fk," +
	                "created_at" +
	                ")" +
	                " values (?,?,now())";

	        try {
	            // prepared statement para inserção
	            PreparedStatement stmt = connection.prepareStatement(sql);

	            // seta os valores
	            stmt.setInt(1, registro.getMsg_fk());
	            stmt.setInt(2, registro.getUser_fk());
	            stmt.setString(3, registro.getArq_name());

	            // executa
	            stmt.execute();
	            stmt.close();
	        } catch (SQLException e) {
	            throw new RuntimeException(e);
	        }
	    }
	
}
